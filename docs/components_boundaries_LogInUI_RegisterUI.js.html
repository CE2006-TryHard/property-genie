<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/boundaries/LogInUI/RegisterUI.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/boundaries/LogInUI/RegisterUI.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {useState } from "react"
import { userAuthMgr } from "../../controls/Mgr"

/**
 * @namespace RegisterUI
 * @description boundary module
 * @property {String} pw
 * @property {String} confirmPW
 * @property {String} email
 * @property {String} firstName
 * @property {String} lastName
 * @property {String} emailWarningMsg
 * @property {String} pwWarningMsg
 * @property {String} nameWarningMsg
 */
const RegisterUI = props => {
    const [pw, setPW] = useState('')
    const [confirmPW, setConfirmPW] = useState('')
    const [email, setEmail] = useState('')
    const [firstName, setFirstName] = useState('')
    const [lastName, setLastName] = useState('')
    const [emailWarningMsg, setEmailWarningMsg] = useState('')
    const [pwWarningMsg, setPWWarningMsg] = useState('')
    const [nameWarningMsg, setNameWarningMsg] = useState('')

    const {checkIsEmptyString, checkIsValidEmailFormat, validateAccountAvailability} = userAuthMgr

    /**
     * @memberof RegisterUI
     * @typedef {function} verifyEmail
     * @return {Boolean}
     */
    const verifyEmail = () => {
        const isEmpty = checkIsEmptyString(email)
        const invalidEmail = !checkIsValidEmailFormat(email)
        if (isEmpty) setEmailWarningMsg('Please enter your email.')
        else if (invalidEmail) setEmailWarningMsg('You have enter an invalid email address!')
        return !isEmpty &amp;&amp; !invalidEmail
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} verifyPW
     * @return {Boolean}
     */
    const verifyPW = () => {
        if (pw !== confirmPW) setPWWarningMsg('Passwords do not match! Please reenter password.')
        else if (pw === '' || confirmPW === '') setPWWarningMsg('Please enter your password!')

        return (pw === confirmPW &amp;&amp; pw !== '')
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} verifyName
     * @return {Boolean}
     */
    const verifyName = () => {
        const isEmptyFirstName = checkIsEmptyString(firstName)
        const isEmptyLastName = checkIsEmptyString(lastName)
        if (isEmptyFirstName) setNameWarningMsg('Please enter your first name!')
        else if(isEmptyLastName) setNameWarningMsg('Please enter your last name!')
        return (!isEmptyFirstName &amp;&amp; !isEmptyLastName)
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onRegisterManual
     */
    const onRegisterManual = () => {
        if (verifyEmail()) {
            setEmailWarningMsg('')
            validateAccountAvailability(email, userExist => {
                if (userExist) {
                    setEmailWarningMsg('Email already exists! Please enter a different email.')
                    return
                }

                if (verifyPW() &amp;&amp; verifyName()) {
                    props.onRegisterManual({
                        name: firstName + ' ' + lastName,
                        email: email,
                        password: pw
                    })
                } else {
                    verifyPW()
                    verifyName()
                }
            })
        } else {
            verifyPW()
            verifyName()
        }
        
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onRegisterGoogle
     */
    const onRegisterGoogle = () => {
        props.onRegisterGoogle()
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onEmailChange
     * @param {Event} e
     */
    const onEmailChange = e => {
        setEmail(e.target.value)
        setEmailWarningMsg('')
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onFirstNameCange
     * @param {Event} e
     */
    const onFirstNameCange = e => {
        setFirstName(e.target.value)
        setNameWarningMsg('')
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onLastNameChange
     * @param {Event} e
     */
    const onLastNameChange = e => {
        setLastName(e.target.value)
        setNameWarningMsg('')
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onPWChange
     * @param {Event} e
     */
    const onPWChange = e => {
        setPW(e.target.value)
        setPWWarningMsg('')
    }

    /**
     * @memberof RegisterUI
     * @typedef {function} onConfirmPWChange
     * @param {Event} e
     */
    const onConfirmPWChange = e => {
        setConfirmPW(e.target.value)
        setPWWarningMsg('')
    }

    return (&lt;div className="register-content">
            &lt;button className="register-via-google-button" onClick={onRegisterGoogle}>Register via Google&lt;/button>
            &lt;div>Or&lt;/div>
            &lt;div className="input-field input-email">
                &lt;span>Email: &lt;/span>&lt;input type="text" value={email} onChange={onEmailChange}/>
                &lt;p className="warning">{emailWarningMsg}&lt;/p>
                {!checkIsEmptyString(email) &amp;&amp; emailWarningMsg === '' ? &lt;p className="approve">Email format is valid.&lt;/p> : ''}
            &lt;/div>
            &lt;div className="input-field input-name">
                &lt;div className="sub-input-field">
                    &lt;span>First name: &lt;/span>&lt;input type="text" value={firstName} onChange={onFirstNameCange}/>&lt;br />
                &lt;/div>
                &lt;div className="sub-input-field">
                &lt;span>Last name:&lt;/span>&lt;input type="text" value={lastName} onChange={onLastNameChange}/>
                &lt;/div>
                &lt;p className="warning">{nameWarningMsg}&lt;/p>
            &lt;/div>
            &lt;div className="input-field input-password">
                &lt;div className="sub-input-field">
                    &lt;span>Password: &lt;/span>&lt;input type="text" value={pw} onChange={onPWChange}/>&lt;br />
                &lt;/div>
                &lt;div className="sub-input-field">
                    &lt;span>Confirm Password: &lt;/span>&lt;input type="text" value={confirmPW} onChange={onConfirmPWChange}/>
                &lt;/div>
                &lt;p className="warning">{pwWarningMsg}&lt;/p>
            &lt;/div>
            &lt;button onClick={onRegisterManual}>Register&lt;/button>
            &lt;button onClick={props.onBack}>Back&lt;/button>
        &lt;/div>)
}

export default RegisterUI</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="AccountUI.html">AccountUI</a></li><li><a href="App.html">App</a></li><li><a href="BookmarkUI.html">BookmarkUI</a></li><li><a href="FilterPanelUI.html">FilterPanelUI</a></li><li><a href="InfoPanelUI.html">InfoPanelUI</a></li><li><a href="LightboxWrapper.html">LightboxWrapper</a></li><li><a href="LogInUI.html">LogInUI</a></li><li><a href="MapUI.html">MapUI</a></li><li><a href="RegisterUI.html">RegisterUI</a></li><li><a href="SearchBarUI.html">SearchBarUI</a></li></ul><h3>Classes</h3><ul><li><a href="Constituency.html">Constituency</a></li><li><a href="DatabaseMgr.html">DatabaseMgr</a></li><li><a href="Property.html">Property</a></li><li><a href="SearchItem.html">SearchItem</a></li><li><a href="SidePanelOptMgr.html">SidePanelOptMgr</a></li><li><a href="User.html">User</a></li><li><a href="UserAuthMgr.html">UserAuthMgr</a></li></ul><h3>Global</h3><ul><li><a href="global.html#CheckBox">CheckBox</a></li><li><a href="global.html#GreetUserMsg">GreetUserMsg</a></li><li><a href="global.html#SidePanelWrapper">SidePanelWrapper</a></li><li><a href="global.html#TabButton">TabButton</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Sun Mar 27 2022 21:33:56 GMT+0800 (Singapore Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
